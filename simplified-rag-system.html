<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°„í¸í˜• ë¬¸ì„œ ê¸°ë°˜ QA ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 50%, #f8fafc 100%);
            overflow: hidden;
        }

        .container {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 16px 24px;
            z-index: 20;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .header p {
            font-size: 14px;
            color: #64748b;
        }

        .toolbar {
            position: absolute;
            top: 100px;
            left: 16px;
            z-index: 10;
            display: flex;
            flex-direction: column;
            gap: 8px;
            background: rgba(255, 255, 255, 0.95);
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .toolbar button {
            padding: 10px 16px;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .toolbar button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .toolbar button.reset {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .toolbar button.clear {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .toolbar button.switch {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        .toolbar button.switch:hover {
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }

        .toolbar button.deploy {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .toolbar button.deploy:hover {
            background: linear-gradient(135deg, #059669, #047857);
        }

        /* ìƒì„¸ ì •ë³´ íŒ¨ë„ */
        .detail-panel {
            position: absolute;
            top: 100px;
            right: 16px;
            width: 350px;
            max-height: calc(100vh - 200px);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 15;
            transform: translateX(400px);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .detail-panel.visible {
            transform: translateX(0);
        }

        .detail-header {
            padding: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
        }

        .detail-header h3 {
            font-size: 18px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-header p {
            font-size: 13px;
            color: #64748b;
            line-height: 1.5;
        }

        .detail-content {
            padding: 20px;
            overflow-y: auto;
            max-height: calc(100vh - 320px);
        }

        .detail-section {
            margin-bottom: 20px;
        }

        .detail-section h4 {
            font-size: 14px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .detail-section p, .detail-section ul {
            font-size: 13px;
            color: #475569;
            line-height: 1.6;
        }

        .detail-section ul {
            list-style: none;
            padding: 0;
        }

        .detail-section li {
            padding: 2px 0;
            padding-left: 16px;
            position: relative;
        }

        .detail-section li::before {
            content: "â€¢";
            color: #3b82f6;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .close-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 28px;
            height: 28px;
            border: none;
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .close-btn:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        .canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: grab;
        }

        .canvas:active {
            cursor: grabbing;
        }

        .viewport {
            position: relative;
            width: 200%;
            height: 200%;
            transform-origin: 0 0;
        }

        .svg-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .nodes-layer {
            position: relative;
            z-index: 2;
        }

        .node {
            position: absolute;
            min-width: 200px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            border: 2px solid transparent;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            user-select: none;
        }

        .node:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .node.selected {
            border-color: #3b82f6;
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
        }

        .node-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .node-icon {
            font-size: 20px;
        }

        .node-title {
            font-size: 14px;
            font-weight: 600;
            color: #1e293b;
            flex: 1;
        }

        .node-description {
            font-size: 12px;
            color: #64748b;
            line-height: 1.4;
        }

        .node-type-input { border-color: #1e40af; }
        .node-type-processing { border-color: #d97706; }
        .node-type-storage { border-color: #7c2d12; }
        .node-type-query { border-color: #ea580c; }
        .node-type-output { border-color: #065f46; }

        .connection-line {
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead-input);
        }

        .connection-input { stroke: #1e40af; marker-end: url(#arrowhead-input); }
        .connection-processing { stroke: #d97706; marker-end: url(#arrowhead-processing); }
        .connection-storage { stroke: #7c2d12; marker-end: url(#arrowhead-storage); }
        .connection-query { stroke: #ea580c; marker-end: url(#arrowhead-query); }
        .connection-output { stroke: #065f46; marker-end: url(#arrowhead-output); }

        .save-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            z-index: 1000;
            animation: slideInRight 0.3s ease-out;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ë°°í¬ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .deploy-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
        }

        .deploy-content {
            background: white;
            border-radius: 16px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .deploy-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            border-bottom: 1px solid #e2e8f0;
        }

        .deploy-header h2 {
            font-size: 20px;
            font-weight: 700;
            color: #1e293b;
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #64748b;
            padding: 4px;
            border-radius: 4px;
        }

        .close-btn:hover {
            background: #f1f5f9;
            color: #1e293b;
        }

        .deploy-body {
            padding: 24px;
        }

        .deploy-option {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 4px solid #3b82f6;
        }

        .deploy-option h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1e293b;
            margin: 0 0 8px 0;
        }

        .deploy-option p {
            color: #64748b;
            margin: 0 0 12px 0;
            font-size: 14px;
        }

        .deploy-option ol {
            color: #475569;
            font-size: 14px;
            margin: 12px 0;
            padding-left: 20px;
        }

        .deploy-option ol li {
            margin-bottom: 4px;
        }

        .deploy-option a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 500;
        }

        .deploy-option a:hover {
            text-decoration: underline;
        }

        .deploy-tips {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #10b981;
        }

        .deploy-tips h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1e293b;
            margin: 0 0 12px 0;
        }

        .deploy-tips ul {
            color: #475569;
            font-size: 14px;
            margin: 0;
            padding-left: 20px;
        }

        .deploy-tips ul li {
            margin-bottom: 4px;
        }

        .deploy-footer {
            padding: 24px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .deploy-footer p {
            margin: 0;
            font-size: 14px;
            color: #64748b;
        }

        .deploy-footer a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 500;
        }

        .deploy-footer a:hover {
            text-decoration: underline;
        }

        .deploy-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .deploy-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-1px);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* ì¢Œì¸¡ í•˜ë‹¨ ì •ë³´ íŒ¨ë„ */
        .info-panel {
            position: fixed;
            bottom: 16px;
            left: 16px;
            width: 380px;
            max-height: 400px;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 15;
            overflow: hidden;
        }

        .info-panel-header {
            padding: 16px 20px;
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-panel-header h3 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-panel-header p {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.4;
        }

        .info-panel-content {
            padding: 16px 20px;
            overflow-y: auto;
            max-height: 320px;
            font-size: 13px;
            line-height: 1.6;
            color: #334155;
        }

        .info-section {
            margin-bottom: 16px;
        }

        .info-section h4 {
            font-size: 14px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .info-section ul {
            list-style: none;
            padding: 0;
        }

        .info-section li {
            padding: 4px 0;
            padding-left: 16px;
            position: relative;
        }

        .info-section li::before {
            content: "â€¢";
            color: #059669;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .feature-highlight {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid #059669;
            margin: 12px 0;
        }

        .feature-highlight h5 {
            font-size: 13px;
            font-weight: 600;
            color: #065f46;
            margin-bottom: 6px;
        }

        .feature-highlight p {
            font-size: 12px;
            color: #065f46;
            margin: 0;
        }

        @media (max-width: 768px) {
            .toolbar {
                top: 80px;
                left: 8px;
                right: 8px;
                flex-direction: row;
                overflow-x: auto;
                gap: 4px;
                padding: 8px;
            }
            
            .toolbar button {
                min-width: 80px;
                font-size: 11px;
                padding: 8px 12px;
            }
            
            .detail-panel {
                left: 8px;
                right: 8px;
                width: auto;
                top: 140px;
                transform: translateY(100vh);
            }
            
            .detail-panel.visible {
                transform: translateY(0);
            }
            
            .header {
                padding: 12px 16px;
            }
            
            .header h1 {
                font-size: 18px;
            }
            
            .header p {
                font-size: 12px;
            }
            
            .node {
                min-width: 160px;
                padding: 12px;
                margin: 16px;
                flex-direction: row;
                justify-content: center;
            }
            
            .canvas {
                margin-top: 120px;
            }

            .info-panel {
                width: calc(100vw - 32px);
                bottom: 100px;
                max-height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“‹ ê°„í¸í˜• ë¬¸ì„œ ê¸°ë°˜ QA ì‹œìŠ¤í…œ</h1>
            <p>OCR ê¸°ë°˜ í…ìŠ¤íŠ¸ ì¶”ì¶œê³¼ ë²¡í„° ê²€ìƒ‰ì„ í™œìš©í•œ ì‹¤ìš©ì ì¸ ë¬¸ì„œ ì§ˆì˜ì‘ë‹µ ì‹œìŠ¤í…œ</p>
        </div>
        
        <div class="toolbar">
            <button onclick="switchToMultimodal()" class="switch">ğŸš€ ë©€í‹°ëª¨ë‹¬ ë³´ê¸°</button>
            <button onclick="showDeployGuide()" class="deploy" title="30ì´ˆë§Œì— ë§í¬ ê³µìœ í•˜ê¸°">ğŸš€ ë°°í¬í•˜ê¸°</button>
            <button onclick="editor.fitToScreen()">ğŸ¯ ì „ì²´ë³´ê¸°</button>
            <button onclick="editor.zoomIn()" class="reset">ğŸ” í™•ëŒ€</button>
            <button onclick="editor.zoomOut()" class="reset">ğŸ” ì¶•ì†Œ</button>
            <button onclick="editor.exportWorkflow()" class="clear">ğŸ“¤ ë‚´ë³´ë‚´ê¸°</button>
        </div>

        <!-- ìƒì„¸ ì •ë³´ íŒ¨ë„ -->
        <div class="detail-panel" id="detail-panel">
            <button class="close-btn" onclick="editor.closeDetailPanel()">Ã—</button>
            <div class="detail-header">
                <h3 id="detail-title">
                    <span id="detail-icon">ğŸ“š</span>
                    ë…¸ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”
                </h3>
                <p id="detail-description">ë…¸ë“œë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸í•œ ê¸°ìˆ  ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            <div class="detail-content">
                <div class="detail-section tech-stack">
                    <h4>ğŸ”§ ê¸°ìˆ ìŠ¤íƒ</h4>
                    <p id="detail-tech">ë…¸ë“œë¥¼ ì„ íƒí•˜ì—¬ ê¸°ìˆ  ìŠ¤íƒì„ í™•ì¸í•˜ì„¸ìš”.</p>
                </div>
                <div class="detail-section">
                    <h4>âš™ï¸ ì„¤ì •</h4>
                    <p id="detail-config">ë…¸ë“œë¥¼ ì„ íƒí•˜ì—¬ ì„¤ì • ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                </div>
                <div class="detail-section">
                    <h4>ğŸŒ API</h4>
                    <p id="detail-api">ë…¸ë“œë¥¼ ì„ íƒí•˜ì—¬ API ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                </div>
                <div class="detail-section">
                    <h4>ğŸ“Š ì„±ëŠ¥</h4>
                    <p id="detail-performance">ë…¸ë“œë¥¼ ì„ íƒí•˜ì—¬ ì„±ëŠ¥ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                </div>
            </div>
        </div>
        
        <div class="canvas" id="canvas">
            <div class="viewport" id="viewport">
                <svg class="svg-layer" id="svg-layer">
                    <defs>
                        <marker id="arrowhead-input" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#1e40af" />
                        </marker>
                        <marker id="arrowhead-processing" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#d97706" />
                        </marker>
                        <marker id="arrowhead-storage" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#7c2d12" />
                        </marker>
                        <marker id="arrowhead-query" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#ea580c" />
                        </marker>
                        <marker id="arrowhead-output" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#065f46" />
                        </marker>
                    </defs>
                </svg>
                <div class="nodes-layer" id="nodes-layer"></div>
            </div>
        </div>

        <!-- ì¢Œì¸¡ í•˜ë‹¨ ì •ë³´ íŒ¨ë„ -->
        <div class="info-panel">
            <div class="info-panel-header">
                <h3>ğŸ“‹ ê°„í¸í˜• ë¬¸ì„œ ì´ë¯¸ì§€ QA ì‹œìŠ¤í…œ</h3>
                <p>ì›ë³¸ ë³´ì¡´ + OCR ê¸°ë°˜ - ë©€í‹°ëª¨ë‹¬ AI íš¨ê³¼ë¥¼ 90% ë¹„ìš©ìœ¼ë¡œ 10% ë‹¬ì„±í•˜ëŠ” ì‹¤ìš©ì  ì†”ë£¨ì…˜</p>
            </div>
            <div class="info-panel-content">
                <div class="info-section">
                    <h4>ğŸ“‹ ì‹œìŠ¤í…œ ê°œìš”</h4>
                    <ul>
                        <li>ğŸ“„ PDF/DOCXë¥¼ í˜ì´ì§€ë³„ PNG ì´ë¯¸ì§€ë¡œ ë³€í™˜</li>
                        <li>ğŸ”¤ Tesseract OCRë¡œ í…ìŠ¤íŠ¸ ì •í™• ì¶”ì¶œ (92%)</li>
                        <li>ğŸ§  OpenAI ì„ë² ë”© + FAISS ë²¡í„° ê²€ìƒ‰</li>
                        <li>ğŸ“ ë‹µë³€ ì‹œ ê´€ë ¨ ì›ë³¸ í˜ì´ì§€ ì´ë¯¸ì§€ ìë™ ì²¨ë¶€</li>
                        <li>ğŸ”— 22ê°œ ë…¸ë“œ ì™„ì „í•œ ì—”ë“œíˆ¬ì—”ë“œ ì›Œí¬í”Œë¡œìš°</li>
                    </ul>
                </div>
                
                <div class="feature-highlight">
                    <h5>ğŸ’¡ í•µì‹¬ í˜ì‹ </h5>
                    <p><strong>ë©€í‹°ëª¨ë‹¬ AI ì—†ì´ë„ ì›ë³¸ ì´ë¯¸ì§€ ë³´ì¡´!</strong> ë³µì¡í•œ ë¹„ì „ AI ëŒ€ì‹  í˜ì´ì§€ ì´ë¯¸ì§€ ë³€í™˜ìœ¼ë¡œ ì‹œê°ì  ì¶œì²˜ ì œê³µ. êµ¬í˜„ ê°„ë‹¨í•˜ë©´ì„œë„ ì‚¬ìš©ì ì‹ ë¢°ë„ íšê¸°ì  í–¥ìƒ.</p>
                </div>
                
                <div class="info-section">
                    <h4>ğŸ—ï¸ ê±´ì„¤ì—… íŠ¹í™” í™œìš©</h4>
                    <ul>
                        <li>ğŸ“ ì„¤ê³„ë„ë©´: "3ì¸µ ë°°ê´€ ê·œê²©?" â†’ ë‹µë³€ + ë„ë©´ ì²¨ë¶€</li>
                        <li>ğŸ“‹ ì‹œê³µë§¤ë‰´ì–¼: "ì½˜í¬ë¦¬íŠ¸ ì–‘ìƒì˜¨ë„?" â†’ ê¸°ì¤€ + ë§¤ë‰´ì–¼ í˜ì´ì§€</li>
                        <li>ğŸ“„ í’ˆì§ˆê¸°ì¤€ì„œ: "ë§ˆê°ì¬ í—ˆìš©ì˜¤ì°¨?" â†’ ê·œì • + í•´ë‹¹ í˜ì´ì§€</li>
                        <li>ğŸ” ë²•ê·œê²€ìƒ‰: "ê±´ì¶•ë²• ì¡°í•­ í™•ì¸" â†’ ì¡°ë¬¸ + ì›ë³¸ ì´ë¯¸ì§€</li>
                    </ul>
                </div>
                
                <div class="info-section">
                    <h4>ğŸ”„ ì™„ì „í•œ ì›Œí¬í”Œë¡œìš°</h4>
                    <ul>
                        <li>ğŸ“¤ ì—…ë¡œë“œ â†’ ğŸ” ê²€ì¦ â†’ ğŸ–¼ï¸ ì´ë¯¸ì§€ë³€í™˜(150DPI)</li>
                        <li>ğŸ”¤ OCRì¶”ì¶œ â†’ ğŸ§¹ ì •ì œ â†’ ğŸ“ ì²­í‚¹ â†’ ğŸ§  ì„ë² ë”©</li>
                        <li>ğŸ—„ï¸ FAISSì €ì¥ + ğŸ–¼ï¸ ì´ë¯¸ì§€ì €ì¥ (ë¡œì»¬/í´ë¼ìš°ë“œ)</li>
                        <li>â“ ì§ˆë¬¸ì…ë ¥ â†’ ğŸ” ìœ ì‚¬ë„ê²€ìƒ‰ â†’ ğŸ“‘ ê´€ë ¨ë¬¸ì„œì¶”ì¶œ</li>
                        <li>ğŸ¤– GPT-4ì‘ë‹µ â†’ ğŸ“ ì´ë¯¸ì§€ì²¨ë¶€ â†’ ğŸ“‹ í†µí•©ì‘ë‹µ</li>
                    </ul>
                </div>
                
                <div class="info-section">
                    <h4>âš™ï¸ ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥</h4>
                    <ul>
                        <li>ğŸ–±ï¸ ë…¸ë“œ í´ë¦­: 22ê°œ ë…¸ë“œë³„ ìƒì„¸ ê¸°ìˆ ìŠ¤íƒ í™•ì¸</li>
                        <li>ğŸ–±ï¸ ë“œë˜ê·¸&ì¤Œ: ì›Œí¬í”Œë¡œìš° ììœ  íƒìƒ‰</li>
                        <li>ğŸ“¤ JSON ë‚´ë³´ë‚´ê¸°: ì•„í‚¤í…ì²˜ ì •ë³´ ë‹¤ìš´ë¡œë“œ</li>
                        <li>ğŸš€ ë©€í‹°ëª¨ë‹¬ ì „í™˜: ê³ ê¸‰ AI ë²„ì „ê³¼ ë¹„êµ</li>
                    </ul>
                </div>
                
                <div class="info-section">
                    <h4>ğŸ“Š ì„±ëŠ¥ & ë¹„ìš©</h4>
                    <ul>
                        <li>âš¡ ì²˜ë¦¬ì†ë„: 30í˜ì´ì§€/ë¶„ (ì´ë¯¸ì§€ë³€í™˜ í¬í•¨)</li>
                        <li>ğŸ’° ë¹„ìš©íš¨ìœ¨: ë©€í‹°ëª¨ë‹¬ ëŒ€ë¹„ 1/10 êµ¬í˜„ë¹„ìš©</li>
                        <li>ğŸ¯ ì •í™•ë„: OCR 92% + ê²€ìƒ‰ 85% (Recall@10)</li>
                        <li>ğŸ’¾ ì €ì¥ìš©ëŸ‰: í‰ê·  1MB/í˜ì´ì§€ (PNG ì••ì¶•)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë©€í‹°ëª¨ë‹¬ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜í•˜ëŠ” í•¨ìˆ˜
        function switchToMultimodal() {
            // ì•Œë¦¼ í‘œì‹œ
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #8b5cf6, #7c3aed);
                color: white;
                padding: 20px 30px;
                border-radius: 12px;
                font-size: 16px;
                font-weight: 600;
                z-index: 1000;
                box-shadow: 0 8px 32px rgba(139, 92, 246, 0.4);
                animation: fadeInScale 0.3s ease-out;
            `;
            notification.innerHTML = 'ğŸš€ ë©€í‹°ëª¨ë‹¬ RAG ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜ ì¤‘...';
            document.body.appendChild(notification);

            // 1ì´ˆ í›„ í˜ì´ì§€ ì´ë™
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        }

        // ë°°í¬ ê°€ì´ë“œ í‘œì‹œ
        function showDeployGuide() {
            const modal = document.createElement('div');
            modal.className = 'deploy-modal';
            modal.innerHTML = `
                <div class="deploy-content">
                    <div class="deploy-header">
                        <h2>ğŸš€ ë¹ ë¥¸ ë°°í¬ ë° ë§í¬ ê³µìœ </h2>
                        <button onclick="closeDeployModal()" class="close-btn">âœ•</button>
                    </div>
                    <div class="deploy-body">
                        <div class="deploy-option">
                            <h3>ğŸ”¥ ì¶”ì²œ: GitHub Pages (ë¬´ë£Œ)</h3>
                            <p>3ë¶„ ë§Œì— ì˜êµ¬ ë§í¬ ìƒì„±</p>
                            <ol>
                                <li>GitHub ì €ì¥ì†Œ ìƒì„±</li>
                                <li>í”„ë¡œì íŠ¸ íŒŒì¼ ì—…ë¡œë“œ</li>
                                <li>Settings > Pages > GitHub Actions ì„ íƒ</li>
                                <li>ìë™ ë°°í¬ ì™„ë£Œ!</li>
                            </ol>
                            <p><strong>ì ‘ì† ì£¼ì†Œ:</strong> https://[ì‚¬ìš©ìëª…].github.io/[ì €ì¥ì†Œëª…]</p>
                        </div>
                        
                        <div class="deploy-option">
                            <h3>âš¡ ê°€ì¥ ë¹ ë¥¸: Netlify</h3>
                            <p>30ì´ˆ ë§Œì— ì¦‰ì‹œ ë§í¬ ìƒì„±</p>
                            <ol>
                                <li><a href="https://netlify.com" target="_blank">netlify.com</a> ì ‘ì†</li>
                                <li>"New site from Git" í´ë¦­</li>
                                <li>GitHub ì €ì¥ì†Œ ì—°ê²° & Deploy</li>
                            </ol>
                            <p><strong>ì ‘ì† ì£¼ì†Œ:</strong> https://[ëœë¤ì´ë¦„].netlify.app</p>
                        </div>
                        
                        <div class="deploy-option">
                            <h3>ğŸ¯ ê³ ì„±ëŠ¥: Vercel</h3>
                            <p>1ë¶„ ë§Œì— ì´ˆê³ ì† ë§í¬ ìƒì„±</p>
                            <ol>
                                <li><a href="https://vercel.com" target="_blank">vercel.com</a> ì ‘ì†</li>
                                <li>"New Project" > GitHub ì—°ê²°</li>
                                <li>Deploy í´ë¦­</li>
                            </ol>
                            <p><strong>ì ‘ì† ì£¼ì†Œ:</strong> https://[í”„ë¡œì íŠ¸ëª…].vercel.app</p>
                        </div>
                        
                        <div class="deploy-tips">
                            <h3>ğŸ’¡ ê±´ì„¤ì—…ê³„ ì¶”ì²œ</h3>
                            <ul>
                                <li><strong>ì‚¬ë‚´ ë°ëª¨:</strong> Netlify (ê°€ì¥ ë¹ ë¦„)</li>
                                <li><strong>ê³ ê° í”„ë ˆì  í…Œì´ì…˜:</strong> Vercel (ê³ ì„±ëŠ¥)</li>
                                <li><strong>ì¥ê¸° ìš´ì˜:</strong> GitHub Pages (ì•ˆì •ì )</li>
                            </ul>
                        </div>
                    </div>
                    <div class="deploy-footer">
                        <p>ğŸ“‹ ìì„¸í•œ ê°€ì´ë“œ: <a href="QUICK-DEPLOY.md" target="_blank">QUICK-DEPLOY.md</a></p>
                        <button onclick="closeDeployModal()" class="deploy-btn">ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function closeDeployModal() {
            const modal = document.querySelector('.deploy-modal');
            if (modal) {
                modal.remove();
            }
        }

        class SimplifiedRAGEditor {
            constructor() {
                this.canvas = document.getElementById('canvas');
                this.viewport = document.getElementById('viewport');
                this.svgLayer = document.getElementById('svg-layer');
                this.nodesLayer = document.getElementById('nodes-layer');
                this.detailPanel = document.getElementById('detail-panel');
                
                this.nodes = [];
                this.connections = [];
                this.scale = 1;
                this.panX = 0;
                this.panY = 0;
                this.isDragging = false;
                this.isNodeDragging = false;
                this.dragStart = { x: 0, y: 0 };
                this.selectedNode = null;
                this.mouseMovedThreshold = 5;
                this.initialMousePos = { x: 0, y: 0 };
                
                this.initializeNodes();
                this.initializeConnections();
                this.bindEvents();
                this.render();
                
                // ìë™ ì €ì¥ (5ì´ˆë§ˆë‹¤)
                setInterval(() => {
                    this.saveLayout();
                }, 5000);
            }

            initializeNodes() {
                this.nodes = [
                    // ì…ë ¥ ë‹¨ê³„
                    { id: 'upload', x: 50, y: 100, type: 'input', icon: 'ğŸ“¤', title: 'ë¬¸ì„œ ì—…ë¡œë“œ', description: 'PDF, DOCX, TXT íŒŒì¼ ì—…ë¡œë“œ' },
                    { id: 'validate', x: 300, y: 100, type: 'input', icon: 'ğŸ”', title: 'íŒŒì¼ ê²€ì¦', description: 'íŒŒì¼ í˜•ì‹ ë° í¬ê¸° ê²€ì¦' },
                    { id: 'convert', x: 550, y: 100, type: 'processing', icon: 'ğŸ–¼ï¸', title: 'ì´ë¯¸ì§€ ë³€í™˜', description: 'pdf2image í˜ì´ì§€ë³„ PNG ë³€í™˜' },
                    { id: 'extract', x: 800, y: 100, type: 'processing', icon: 'ğŸ”¤', title: 'OCR í…ìŠ¤íŠ¸ ì¶”ì¶œ', description: 'Tesseract + EasyOCR í…ìŠ¤íŠ¸ ì¶”ì¶œ' },
                    
                    // ì „ì²˜ë¦¬ ë‹¨ê³„
                    { id: 'clean', x: 50, y: 300, type: 'processing', icon: 'ğŸ§¹', title: 'í…ìŠ¤íŠ¸ ì •ì œ', description: 'ë…¸ì´ì¦ˆ ì œê±° ë° ì •ê·œí™”' },
                    { id: 'chunk', x: 300, y: 300, type: 'processing', icon: 'ğŸ“', title: 'í…ìŠ¤íŠ¸ ë¶„í• ', description: 'ì˜ë¯¸ ë‹¨ìœ„ë¡œ í…ìŠ¤íŠ¸ ì²­í‚¹' },
                    { id: 'embed', x: 550, y: 300, type: 'processing', icon: 'ğŸ§ ', title: 'ì„ë² ë”© ìƒì„±', description: 'OpenAI text-embedding-3 ëª¨ë¸' },
                    
                    // ì €ì¥ ë‹¨ê³„
                    { id: 'vector-store', x: 800, y: 300, type: 'storage', icon: 'ğŸ—„ï¸', title: 'ë²¡í„° ì €ì¥', description: 'FAISS ë²¡í„° ì¸ë±ìŠ¤ ì €ì¥' },
                    { id: 'image-store', x: 1050, y: 100, type: 'storage', icon: 'ğŸ–¼ï¸', title: 'ì´ë¯¸ì§€ ì €ì¥', description: 'í˜ì´ì§€ë³„ PNG ì´ë¯¸ì§€ ì €ì¥' },
                    { id: 'metadata', x: 1050, y: 300, type: 'storage', icon: 'ğŸ·ï¸', title: 'ë©”íƒ€ë°ì´í„° ì €ì¥', description: 'SQLite ë©”íƒ€ë°ì´í„° ì €ì¥' },
                    { id: 'text-store', x: 800, y: 500, type: 'storage', icon: 'ğŸ“„', title: 'ì›ë³¸ í…ìŠ¤íŠ¸', description: 'ì›ë³¸ í…ìŠ¤íŠ¸ ë° ì²­í¬ ì €ì¥' },
                    
                    // ê²€ìƒ‰ ë‹¨ê³„
                    { id: 'query-input', x: 50, y: 700, type: 'query', icon: 'â“', title: 'ì‚¬ìš©ì ì§ˆë¬¸', description: 'ìì—°ì–´ ì§ˆë¬¸ ì…ë ¥' },
                    { id: 'query-embed', x: 300, y: 700, type: 'query', icon: 'ğŸ”', title: 'ì§ˆë¬¸ ì„ë² ë”©', description: 'ì§ˆë¬¸ì„ ë²¡í„°ë¡œ ë³€í™˜' },
                    { id: 'similarity', x: 550, y: 700, type: 'query', icon: 'ğŸ“Š', title: 'ìœ ì‚¬ë„ ê²€ìƒ‰', description: 'FAISS ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê²€ìƒ‰' },
                    { id: 'retrieve', x: 800, y: 700, type: 'query', icon: 'ğŸ“‘', title: 'ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰', description: 'ìƒìœ„ Kê°œ ê´€ë ¨ ë¬¸ì„œ ì¶”ì¶œ' },
                    
                    // ìƒì„± ë‹¨ê³„
                    { id: 'context', x: 1300, y: 500, type: 'output', icon: 'ğŸ“‹', title: 'ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±', description: 'ê²€ìƒ‰ëœ ë¬¸ì„œë¡œ ì»¨í…ìŠ¤íŠ¸ ìƒì„±' },
                    { id: 'prompt', x: 1300, y: 300, type: 'output', icon: 'ğŸ’¬', title: 'í”„ë¡¬í”„íŠ¸ ìƒì„±', description: 'ì§ˆë¬¸ê³¼ ì»¨í…ìŠ¤íŠ¸ ê²°í•©' },
                    { id: 'llm', x: 1300, y: 100, type: 'output', icon: 'ğŸ¤–', title: 'LLM ì‘ë‹µ ìƒì„±', description: 'GPT-4 ê¸°ë°˜ ë‹µë³€ ìƒì„±' },
                    { id: 'source', x: 1550, y: 100, type: 'output', icon: 'ğŸ”—', title: 'ì¶œì²˜ ì²¨ë¶€', description: 'ê´€ë ¨ ë¬¸ì„œ ì¶œì²˜ ì •ë³´' },
                    { id: 'image-attach', x: 1550, y: 300, type: 'output', icon: 'ğŸ“', title: 'ì´ë¯¸ì§€ ì²¨ë¶€', description: 'ê´€ë ¨ í˜ì´ì§€ ì´ë¯¸ì§€ ì²¨ë¶€' },
                    { id: 'format', x: 1550, y: 500, type: 'output', icon: 'âœ¨', title: 'ì‘ë‹µ í¬ë§·íŒ…', description: 'ìµœì¢… ì‘ë‹µ í˜•ì‹ ì •ë¦¬' },
                    { id: 'response', x: 1800, y: 300, type: 'output', icon: 'ğŸ“‹', title: 'ìµœì¢… ì‘ë‹µ', description: 'ë‹µë³€ + ì¶œì²˜ + ì´ë¯¸ì§€ í†µí•©' }
                ];
            }

            initializeConnections() {
                this.connections = [
                    // ë¬¸ì„œ ì²˜ë¦¬ í”Œë¡œìš°
                    { from: 'upload', to: 'validate', type: 'input' },
                    { from: 'validate', to: 'convert', type: 'processing' },
                    { from: 'convert', to: 'extract', type: 'processing' },
                    { from: 'extract', to: 'clean', type: 'processing' },
                    { from: 'clean', to: 'chunk', type: 'processing' },
                    { from: 'chunk', to: 'embed', type: 'processing' },
                    
                    // ì €ì¥ í”Œë¡œìš°
                    { from: 'embed', to: 'vector-store', type: 'storage' },
                    { from: 'convert', to: 'image-store', type: 'storage' },
                    { from: 'validate', to: 'metadata', type: 'storage' },
                    { from: 'chunk', to: 'text-store', type: 'storage' },
                    
                    // ì§ˆì˜ í”Œë¡œìš°
                    { from: 'query-input', to: 'query-embed', type: 'query' },
                    { from: 'query-embed', to: 'similarity', type: 'query' },
                    { from: 'vector-store', to: 'similarity', type: 'query' },
                    { from: 'similarity', to: 'retrieve', type: 'query' },
                    { from: 'text-store', to: 'retrieve', type: 'query' },
                    
                    // ì‘ë‹µ ìƒì„± í”Œë¡œìš°
                    { from: 'retrieve', to: 'context', type: 'output' },
                    { from: 'context', to: 'prompt', type: 'output' },
                    { from: 'query-input', to: 'prompt', type: 'output' },
                    { from: 'prompt', to: 'llm', type: 'output' },
                    { from: 'llm', to: 'source', type: 'output' },
                    { from: 'metadata', to: 'source', type: 'output' },
                    { from: 'image-store', to: 'image-attach', type: 'output' },
                    { from: 'source', to: 'image-attach', type: 'output' },
                    { from: 'source', to: 'format', type: 'output' },
                    { from: 'image-attach', to: 'format', type: 'output' },
                    { from: 'format', to: 'response', type: 'output' }
                ];
            }

            bindEvents() {
                // ìº”ë²„ìŠ¤ ì´ë²¤íŠ¸
                this.canvas.addEventListener('mousedown', (e) => this.handleMouseDown(e));
                this.canvas.addEventListener('mousemove', (e) => this.handleMouseMove(e));
                this.canvas.addEventListener('mouseup', (e) => this.handleMouseUp(e));
                this.canvas.addEventListener('wheel', (e) => this.handleWheel(e));
                
                // í‚¤ë³´ë“œ ì´ë²¤íŠ¸
                document.addEventListener('keydown', (e) => this.handleKeyDown(e));
                
                // ìœˆë„ìš° ë¦¬ì‚¬ì´ì¦ˆ
                window.addEventListener('resize', () => this.updateSVGDimensions());
            }

            handleMouseDown(e) {
                const rect = this.canvas.getBoundingClientRect();
                const x = (e.clientX - rect.left - this.panX) / this.scale;
                const y = (e.clientY - rect.top - this.panY) / this.scale;
                
                this.initialMousePos = { x: e.clientX, y: e.clientY };
                
                const clickedNode = this.getNodeAt(x, y);
                if (clickedNode) {
                    this.selectedNode = clickedNode;
                    this.isNodeDragging = true;
                    this.dragStart = { 
                        x: e.clientX - clickedNode.x * this.scale,
                        y: e.clientY - clickedNode.y * this.scale
                    };
                } else {
                    this.isDragging = true;
                    this.dragStart = { x: e.clientX - this.panX, y: e.clientY - this.panY };
                    this.closeDetailPanel();
                }
                
                e.preventDefault();
            }

            handleMouseMove(e) {
                if (this.isNodeDragging && this.selectedNode) {
                    this.selectedNode.x = (e.clientX - this.dragStart.x) / this.scale;
                    this.selectedNode.y = (e.clientY - this.dragStart.y) / this.scale;
                    this.render();
                } else if (this.isDragging) {
                    this.panX = e.clientX - this.dragStart.x;
                    this.panY = e.clientY - this.dragStart.y;
                    this.render();
                }
            }

            handleMouseUp(e) {
                if (this.isNodeDragging) {
                    const moved = Math.abs(e.clientX - this.initialMousePos.x) > this.mouseMovedThreshold ||
                                 Math.abs(e.clientY - this.initialMousePos.y) > this.mouseMovedThreshold;
                    
                    if (moved) {
                        this.saveLayout();
                    } else if (this.selectedNode) {
                        this.showNodeDetails(this.selectedNode);
                    }
                }
                
                this.isDragging = false;
                this.isNodeDragging = false;
                this.selectedNode = null;
            }

            handleWheel(e) {
                e.preventDefault();
                const rect = this.canvas.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;
                
                const oldScale = this.scale;
                const scaleMultiplier = e.deltaY > 0 ? 0.9 : 1.1;
                this.scale = Math.max(0.1, Math.min(3, this.scale * scaleMultiplier));
                
                // ë§ˆìš°ìŠ¤ ìœ„ì¹˜ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í™•ëŒ€/ì¶•ì†Œ
                const scaleRatio = this.scale / oldScale;
                this.panX = mouseX - (mouseX - this.panX) * scaleRatio;
                this.panY = mouseY - (mouseY - this.panY) * scaleRatio;
                
                this.render();
            }

            handleKeyDown(e) {
                if (e.key === 'Escape') {
                    this.closeDetailPanel();
                }
            }

            getNodeAt(x, y) {
                return this.nodes.find(node => {
                    return x >= node.x && x <= node.x + 200 &&
                           y >= node.y && y <= node.y + 80;
                });
            }

            showNodeDetails(node) {
                const techDetails = this.getNodeTechDetails(node.id);
                
                document.getElementById('detail-icon').textContent = node.icon;
                document.getElementById('detail-title').innerHTML = `
                    <span id="detail-icon">${node.icon}</span>
                    ${node.title}
                `;
                document.getElementById('detail-description').textContent = node.description;
                document.getElementById('detail-tech').innerHTML = techDetails.tech;
                document.getElementById('detail-config').innerHTML = techDetails.config;
                document.getElementById('detail-api').innerHTML = techDetails.api;
                document.getElementById('detail-performance').innerHTML = techDetails.performance;
                
                this.detailPanel.classList.add('visible');
            }

            getNodeTechDetails(nodeId) {
                const details = {
                    'upload': {
                        tech: '<ul><li>Flask/FastAPI (ì›¹ ì„œë²„)</li><li>Werkzeug (íŒŒì¼ ì—…ë¡œë“œ)</li><li>python-magic (MIME ê²€ì¦)</li></ul>',
                        config: '<ul><li>ìµœëŒ€ íŒŒì¼ í¬ê¸°: 50MB</li><li>ì§€ì› í˜•ì‹: PDF, DOCX, TXT</li><li>ì—…ë¡œë“œ í´ë”: ./uploads</li></ul>',
                        api: '<code>POST /upload</code><br>Content-Type: multipart/form-data',
                        performance: '<ul><li>ì—…ë¡œë“œ ì†ë„: 20MB/s</li><li>ë™ì‹œ ì²˜ë¦¬: 5ê°œ</li></ul>'
                    },
                    'validate': {
                        tech: '<ul><li>python-magic (MIME íƒ€ì… ê²€ì¦)</li><li>os.path (íŒŒì¼ í¬ê¸° ì²´í¬)</li><li>pathlib (í™•ì¥ì ê²€ì¦)</li></ul>',
                        config: '<ul><li>í—ˆìš© MIME: application/pdf, text/plain</li><li>ìµœëŒ€ í¬ê¸°: 50MB</li></ul>',
                        api: '<code>POST /validate</code><br>Response: {"valid": true}',
                        performance: '<ul><li>ê²€ì¦ ì‹œê°„: í‰ê·  100ms</li><li>ì •í™•ë„: 99.9%</li></ul>'
                    },
                    'convert': {
                        tech: '<ul><li>pdf2image (PDF â†’ PNG ë³€í™˜)</li><li>Pillow (ì´ë¯¸ì§€ ì²˜ë¦¬)</li><li>python-docx2txt (DOCX ë³€í™˜)</li><li>ImageMagick (ì´ë¯¸ì§€ ìµœì í™”)</li></ul>',
                        config: '<ul><li>DPI: 150 (ê°„í¸í˜•)</li><li>í˜•ì‹: PNG</li><li>ì••ì¶•: ì¤‘ê°„ í’ˆì§ˆ</li><li>ìƒ‰ìƒ: RGB</li></ul>',
                        api: '<code>POST /convert</code><br>Response: {"images": [{"page": 1, "path": "./images/doc1_p1.png"}]}',
                        performance: '<ul><li>ë³€í™˜ ì†ë„: 30í˜ì´ì§€/ë¶„</li><li>ì´ë¯¸ì§€ í¬ê¸°: í‰ê·  1MB</li><li>í’ˆì§ˆ: 150DPI</li></ul>'
                    },
                    'extract': {
                        tech: '<ul><li>Tesseract 5.0 (OCR ì—”ì§„)</li><li>EasyOCR (ë‹¤êµ­ì–´ ì§€ì›)</li><li>PyPDF2 (PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ)</li><li>python-docx (DOCX ì²˜ë¦¬)</li></ul>',
                        config: '<ul><li>ì–¸ì–´: í•œêµ­ì–´, ì˜ì–´</li><li>DPI: 300</li><li>ì‹ ë¢°ë„ ì„ê³„ê°’: 60%</li></ul>',
                        api: '<code>POST /extract</code><br>Response: {"text": "ì¶”ì¶œëœ í…ìŠ¤íŠ¸"}',
                        performance: '<ul><li>ì²˜ë¦¬ ì†ë„: 5í˜ì´ì§€/ë¶„</li><li>ì •í™•ë„: 92%</li></ul>'
                    },
                    'clean': {
                        tech: '<ul><li>re (ì •ê·œí‘œí˜„ì‹)</li><li>unicodedata (ìœ ë‹ˆì½”ë“œ ì •ê·œí™”)</li><li>NLTK (ë¶ˆìš©ì–´ ì œê±°)</li></ul>',
                        config: '<ul><li>ë¶ˆìš©ì–´: í•œêµ­ì–´, ì˜ì–´</li><li>ìµœì†Œ ê¸¸ì´: 2ê¸€ì</li><li>íŠ¹ìˆ˜ë¬¸ì ì œê±°</li></ul>',
                        api: '<code>POST /clean</code><br>Response: {"cleaned_text": "..."}',
                        performance: '<ul><li>ì²˜ë¦¬ ì†ë„: 1MB/ì´ˆ</li><li>ë…¸ì´ì¦ˆ ì œê±°ìœ¨: 95%</li></ul>'
                    },
                    'chunk': {
                        tech: '<ul><li>LangChain TextSplitter</li><li>tiktoken (í† í° ì¹´ìš´íŒ…)</li><li>spaCy (ë¬¸ì¥ ë¶„í• )</li></ul>',
                        config: '<ul><li>ì²­í¬ í¬ê¸°: 1000 í† í°</li><li>ì˜¤ë²„ë©: 200 í† í°</li><li>ë¶„í•  ê¸°ì¤€: ë¬¸ì¥ ë‹¨ìœ„</li></ul>',
                        api: '<code>POST /chunk</code><br>Response: {"chunks": ["...", "..."]}',
                        performance: '<ul><li>ë¶„í•  ì†ë„: 10K í† í°/ì´ˆ</li><li>ì²­í¬ ê°œìˆ˜: í‰ê·  50ê°œ/ë¬¸ì„œ</li></ul>'
                    },
                    'embed': {
                        tech: '<ul><li>OpenAI API (text-embedding-3-small)</li><li>sentence-transformers (ë¡œì»¬ ëŒ€ì•ˆ)</li><li>numpy (ë²¡í„° ì—°ì‚°)</li></ul>',
                        config: '<ul><li>ëª¨ë¸: text-embedding-3-small</li><li>ì°¨ì›: 1536</li><li>ë°°ì¹˜ í¬ê¸°: 100</li></ul>',
                        api: '<code>POST /embed</code><br>Response: {"embeddings": [[0.1, ...], ...]}',
                        performance: '<ul><li>ì„ë² ë”© ì†ë„: 1000ê°œ/ë¶„</li><li>ë¹„ìš©: $0.02/1M í† í°</li></ul>'
                    },
                    'vector-store': {
                        tech: '<ul><li>FAISS (Facebook AI Similarity Search)</li><li>pickle (ì¸ë±ìŠ¤ ì €ì¥)</li><li>numpy (ë²¡í„° ì—°ì‚°)</li></ul>',
                        config: '<ul><li>ì¸ë±ìŠ¤ íƒ€ì…: IndexFlatIP</li><li>ë©”íŠ¸ë¦­: ë‚´ì  (Inner Product)</li><li>ì €ì¥ ê²½ë¡œ: ./faiss_index</li></ul>',
                        api: '<code>POST /vector/add</code><br><code>GET /vector/search</code>',
                        performance: '<ul><li>ê²€ìƒ‰ ì†ë„: 1ms</li><li>í™•ì¥ì„±: 100K ë²¡í„°</li></ul>'
                    },
                    'image-store': {
                        tech: '<ul><li>íŒŒì¼ ì‹œìŠ¤í…œ ì €ì¥</li><li>PNG ì´ë¯¸ì§€ í˜•ì‹</li><li>ë””ë ‰í† ë¦¬ êµ¬ì¡° ê´€ë¦¬</li><li>ì´ë¯¸ì§€ ë©”íƒ€ë°ì´í„°</li></ul>',
                        config: '<ul><li>ì €ì¥ ê²½ë¡œ: ./images/</li><li>ëª…ëª… ê·œì¹™: {doc_id}_p{page}.png</li><li>ì••ì¶•: PNG ìµœì í™”</li><li>ë°±ì—…: ì„ íƒì </li></ul>',
                        api: '<code>POST /images/store</code><br><code>GET /images/{doc_id}/{page}</code><br>Response: ì´ë¯¸ì§€ íŒŒì¼ ë˜ëŠ” Base64',
                        performance: '<ul><li>ì €ì¥ ì†ë„: 10MB/s</li><li>ìš©ëŸ‰: í‰ê·  1MB/í˜ì´ì§€</li><li>ì ‘ê·¼ ì‹œê°„: 50ms</li></ul>'
                    },
                    'metadata': {
                        tech: '<ul><li>SQLite3 (ê²½ëŸ‰ ë°ì´í„°ë² ì´ìŠ¤)</li><li>sqlite3 (Python í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬)</li></ul>',
                        config: '<ul><li>í…Œì´ë¸”: documents, chunks</li><li>ì¸ë±ìŠ¤: doc_id, chunk_id</li><li>DB íŒŒì¼: ./metadata.db</li></ul>',
                        api: '<code>GET /metadata/{doc_id}</code><br>Response: {"title": "...", "pages": 10}',
                        performance: '<ul><li>ì¿¼ë¦¬ ì†ë„: í‰ê·  5ms</li><li>ì €ì¥ ìš©ëŸ‰: 1MB/1K ë¬¸ì„œ</li></ul>'
                    },
                    'text-store': {
                        tech: '<ul><li>íŒŒì¼ ì‹œìŠ¤í…œ ì €ì¥</li><li>JSON í˜•ì‹</li><li>gzip ì••ì¶•</li></ul>',
                        config: '<ul><li>ì €ì¥ ê²½ë¡œ: ./text_chunks/</li><li>íŒŒì¼ í¬ë§·: {doc_id}.json.gz</li><li>ì••ì¶•ë¥ : 70%</li></ul>',
                        api: '<code>GET /text/{doc_id}</code><br>Response: {"chunks": ["...", "..."]}',
                        performance: '<ul><li>ì½ê¸° ì†ë„: 100MB/s</li><li>ì••ì¶•ë¥ : 70%</li></ul>'
                    },
                    'query-input': {
                        tech: '<ul><li>HTML Form</li><li>JavaScript (í”„ë¡ íŠ¸ì—”ë“œ)</li><li>WebSocket (ì„ íƒì )</li></ul>',
                        config: '<ul><li>ìµœëŒ€ ê¸¸ì´: 500ì</li><li>ì¸ì½”ë”©: UTF-8</li><li>ê²€ì¦: í•„ìˆ˜ ì…ë ¥</li></ul>',
                        api: '<code>POST /query</code><br>Body: {"question": "ì§ˆë¬¸ ë‚´ìš©"}',
                        performance: '<ul><li>ì‘ë‹µ ì‹œê°„: ì¦‰ì‹œ</li><li>ë™ì‹œ ì‚¬ìš©ì: 100ëª…</li></ul>'
                    },
                    'query-embed': {
                        tech: '<ul><li>OpenAI API (ë™ì¼ ëª¨ë¸)</li><li>ìºì‹± (Redis/ë©”ëª¨ë¦¬)</li></ul>',
                        config: '<ul><li>ëª¨ë¸: text-embedding-3-small</li><li>ìºì‹œ TTL: 1ì‹œê°„</li></ul>',
                        api: '<code>POST /query/embed</code><br>Response: {"embedding": [0.1, ...]}',
                        performance: '<ul><li>ì„ë² ë”© ì‹œê°„: 500ms</li><li>ìºì‹œ ì ì¤‘ë¥ : 80%</li></ul>'
                    },
                    'similarity': {
                        tech: '<ul><li>FAISS ê²€ìƒ‰</li><li>ì½”ì‚¬ì¸ ìœ ì‚¬ë„</li><li>numpy ë²¡í„° ì—°ì‚°</li></ul>',
                        config: '<ul><li>ìƒìœ„ Kê°œ: 10</li><li>ìœ ì‚¬ë„ ì„ê³„ê°’: 0.7</li><li>ê²€ìƒ‰ ë²”ìœ„: ì „ì²´ ì¸ë±ìŠ¤</li></ul>',
                        api: '<code>POST /search/similarity</code><br>Response: {"results": [{"id": 1, "score": 0.95}]}',
                        performance: '<ul><li>ê²€ìƒ‰ ì‹œê°„: 10ms</li><li>ì •í™•ë„: Recall@10: 0.85</li></ul>'
                    },
                    'retrieve': {
                        tech: '<ul><li>SQLite ì¡°ì¸ ì¿¼ë¦¬</li><li>íŒŒì¼ ì‹œìŠ¤í…œ ì½ê¸°</li><li>JSON íŒŒì‹±</li></ul>',
                        config: '<ul><li>ìµœëŒ€ ê²€ìƒ‰ ê°œìˆ˜: 5ê°œ</li><li>ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´: 4000í† í°</li></ul>',
                        api: '<code>GET /retrieve/{ids}</code><br>Response: {"documents": [{"content": "..."}]}',
                        performance: '<ul><li>ê²€ìƒ‰ ì‹œê°„: 20ms</li><li>ì²˜ë¦¬ëŸ‰: 1000 QPS</li></ul>'
                    },
                    'context': {
                        tech: '<ul><li>í…ìŠ¤íŠ¸ ê²°í•©</li><li>í† í° ìˆ˜ ì œí•œ</li><li>ìš°ì„ ìˆœìœ„ ì •ë ¬</li></ul>',
                        config: '<ul><li>ìµœëŒ€ í† í°: 3000</li><li>ì •ë ¬: ìœ ì‚¬ë„ ìˆœ</li><li>êµ¬ë¶„ì: "\\n\\n---\\n\\n"</li></ul>',
                        api: '<code>POST /context/build</code><br>Response: {"context": "ê²°í•©ëœ í…ìŠ¤íŠ¸"}',
                        performance: '<ul><li>êµ¬ì„± ì‹œê°„: 50ms</li><li>ì••ì¶•ë¥ : 60%</li></ul>'
                    },
                    'prompt': {
                        tech: '<ul><li>í…œí”Œë¦¿ ì—”ì§„ (Jinja2)</li><li>í”„ë¡¬í”„íŠ¸ ìµœì í™”</li></ul>',
                        config: '<ul><li>í…œí”Œë¦¿: system + user prompt</li><li>ìµœëŒ€ ê¸¸ì´: 4000í† í°</li></ul>',
                        api: '<code>POST /prompt/generate</code><br>Response: {"prompt": "ì™„ì„±ëœ í”„ë¡¬í”„íŠ¸"}',
                        performance: '<ul><li>ìƒì„± ì‹œê°„: 10ms</li><li>í† í° íš¨ìœ¨ì„±: 90%</li></ul>'
                    },
                    'llm': {
                        tech: '<ul><li>OpenAI GPT-4o-mini</li><li>LangChain (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜)</li><li>tiktoken (í† í° ê´€ë¦¬)</li></ul>',
                        config: '<ul><li>ëª¨ë¸: gpt-4o-mini</li><li>ì˜¨ë„: 0.1</li><li>ìµœëŒ€ í† í°: 1000</li></ul>',
                        api: '<code>POST /llm/generate</code><br>Response: {"answer": "ìƒì„±ëœ ë‹µë³€"}',
                        performance: '<ul><li>ì‘ë‹µ ì‹œê°„: 2-5ì´ˆ</li><li>ë¹„ìš©: $0.15/1M í† í°</li></ul>'
                    },
                    'source': {
                        tech: '<ul><li>ë©”íƒ€ë°ì´í„° ë§¤í•‘</li><li>ë¬¸ì„œ ID ì¶”ì </li><li>í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ</li></ul>',
                        config: '<ul><li>ì¶œì²˜ í˜•ì‹: "ë¬¸ì„œëª… (í˜ì´ì§€ X)"</li><li>ìµœëŒ€ ì¶œì²˜: 3ê°œ</li></ul>',
                        api: '<code>GET /sources/{query_id}</code><br>Response: {"sources": ["ë¬¸ì„œ1", "ë¬¸ì„œ2"]}',
                        performance: '<ul><li>ì¡°íšŒ ì‹œê°„: 5ms</li><li>ì •í™•ë„: 100%</li></ul>'
                    },
                    'format': {
                        tech: '<ul><li>HTML/Markdown í¬ë§·íŒ…</li><li>í…ìŠ¤íŠ¸ ì •ë¦¬</li><li>êµ¬ì¡°í™”</li></ul>',
                        config: '<ul><li>í˜•ì‹: Markdown</li><li>êµ¬ì¡°: ë‹µë³€ + ì¶œì²˜ + ì´ë¯¸ì§€</li><li>ìµœëŒ€ ê¸¸ì´: 2000ì</li></ul>',
                        api: '<code>POST /format</code><br>Response: {"formatted": "í¬ë§·ëœ ì‘ë‹µ"}',
                        performance: '<ul><li>í¬ë§·íŒ… ì‹œê°„: 20ms</li><li>ê°€ë…ì„± ì ìˆ˜: 85%</li></ul>'
                    },
                    'image-attach': {
                        tech: '<ul><li>ì´ë¯¸ì§€ ë§¤ì¹­ ë¡œì§</li><li>Base64 ì¸ì½”ë”©</li><li>ì¸ë„¤ì¼ ìƒì„±</li><li>ë©”íƒ€ë°ì´í„° ì—°ê²°</li></ul>',
                        config: '<ul><li>ìµœëŒ€ ì´ë¯¸ì§€: 3ê°œ</li><li>ì¸ë„¤ì¼ í¬ê¸°: 300x400</li><li>í˜•ì‹: PNG/JPEG</li><li>ì••ì¶•ë¥ : 80%</li></ul>',
                        api: '<code>POST /attach/images</code><br>Body: {"source_ids": [1,2,3]}<br>Response: {"images": [{"page": 1, "url": "..."}]}',
                        performance: '<ul><li>ë§¤ì¹­ ì‹œê°„: 100ms</li><li>ì´ë¯¸ì§€ ë¡œë”©: 200ms</li><li>ì••ì¶•ë¥ : 70%</li></ul>'
                    },
                    'response': {
                        tech: '<ul><li>JSON ì‘ë‹µ</li><li>ì´ë¯¸ì§€ Base64 ì¸ì½”ë”©</li><li>HTTP ìƒíƒœ ì½”ë“œ</li><li>ë¡œê¹…</li></ul>',
                        config: '<ul><li>ì¸ì½”ë”©: UTF-8</li><li>í˜•ì‹: JSON</li><li>ì´ë¯¸ì§€ í¬í•¨: Base64</li><li>ë¡œê·¸ ë ˆë²¨: INFO</li></ul>',
                        api: '<code>GET /response/{query_id}</code><br>Response: {"answer": "...", "sources": [...], "images": [{"page": 1, "data": "base64..."}]}',
                        performance: '<ul><li>ì‘ë‹µ ì‹œê°„: ì¦‰ì‹œ</li><li>ì„±ê³µë¥ : 99.5%</li><li>ì´ë¯¸ì§€ í¬í•¨ ì‹œ: +500ms</li></ul>'
                    }
                };
                
                return details[nodeId] || {
                    tech: 'ìƒì„¸ ê¸°ìˆ  ì •ë³´ë¥¼ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.',
                    config: 'ì„¤ì • ì •ë³´ë¥¼ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.',
                    api: 'API ë¬¸ì„œë¥¼ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.',
                    performance: 'ì„±ëŠ¥ ì§€í‘œë¥¼ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'
                };
            }

            closeDetailPanel() {
                this.detailPanel.classList.remove('visible');
            }

            render() {
                this.updateTransform();
                this.renderNodes();
                this.renderConnections();
                this.updateSVGDimensions();
            }

            updateTransform() {
                this.viewport.style.transform = `translate(${this.panX}px, ${this.panY}px) scale(${this.scale})`;
            }

            renderNodes() {
                this.nodesLayer.innerHTML = '';
                
                this.nodes.forEach(node => {
                    const nodeEl = document.createElement('div');
                    nodeEl.className = `node node-type-${node.type}`;
                    nodeEl.style.left = `${node.x}px`;
                    nodeEl.style.top = `${node.y}px`;
                    
                    nodeEl.innerHTML = `
                        <div class="node-header">
                            <span class="node-icon">${node.icon}</span>
                            <span class="node-title">${node.title}</span>
                        </div>
                        <div class="node-description">${node.description}</div>
                    `;
                    
                    this.nodesLayer.appendChild(nodeEl);
                });
            }

            renderConnections() {
                const svgContent = this.svgLayer.querySelector('defs').outerHTML;
                let connectionsHTML = '';
                
                this.connections.forEach(conn => {
                    const fromNode = this.nodes.find(n => n.id === conn.from);
                    const toNode = this.nodes.find(n => n.id === conn.to);
                    
                    if (fromNode && toNode) {
                        const fromX = fromNode.x + 200;
                        const fromY = fromNode.y + 40;
                        const toX = toNode.x;
                        const toY = toNode.y + 40;
                        
                        const midX = (fromX + toX) / 2;
                        const path = `M ${fromX} ${fromY} C ${midX} ${fromY}, ${midX} ${toY}, ${toX} ${toY}`;
                        
                        connectionsHTML += `<path d="${path}" class="connection-line connection-${conn.type}"/>`;
                    }
                });
                
                this.svgLayer.innerHTML = svgContent + connectionsHTML;
            }

            updateSVGDimensions() {
                const rect = this.canvas.getBoundingClientRect();
                this.svgLayer.setAttribute('width', rect.width * 2);
                this.svgLayer.setAttribute('height', rect.height * 2);
            }

            fitToScreen() {
                if (this.nodes.length === 0) return;
                
                const padding = 50;
                let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;
                
                this.nodes.forEach(node => {
                    minX = Math.min(minX, node.x);
                    minY = Math.min(minY, node.y);
                    maxX = Math.max(maxX, node.x + 200);
                    maxY = Math.max(maxY, node.y + 80);
                });
                
                const contentWidth = maxX - minX;
                const contentHeight = maxY - minY;
                const rect = this.canvas.getBoundingClientRect();
                
                const scaleX = (rect.width - padding * 2) / contentWidth;
                const scaleY = (rect.height - padding * 2) / contentHeight;
                this.scale = Math.min(scaleX, scaleY, 1);
                
                this.panX = (rect.width - contentWidth * this.scale) / 2 - minX * this.scale;
                this.panY = (rect.height - contentHeight * this.scale) / 2 - minY * this.scale;
                
                this.render();
            }

            zoomIn() {
                this.scale = Math.min(3, this.scale * 1.2);
                this.render();
            }

            zoomOut() {
                this.scale = Math.max(0.1, this.scale / 1.2);
                this.render();
            }

            exportWorkflow() {
                const data = {
                    nodes: this.nodes,
                    connections: this.connections,
                    metadata: {
                        name: "ê°„í¸í˜• ë¬¸ì„œ ê¸°ë°˜ QA ì‹œìŠ¤í…œ",
                        version: "1.0",
                        exported: new Date().toISOString()
                    }
                };
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'simplified-rag-architecture.json';
                a.click();
                URL.revokeObjectURL(url);
            }

            saveLayout() {
                try {
                    const layout = {
                        nodes: this.nodes,
                        pan: { x: this.panX, y: this.panY },
                        scale: this.scale,
                        timestamp: Date.now()
                    };
                    localStorage.setItem('simplified-rag-layout', JSON.stringify(layout));
                } catch (error) {
                    console.warn('ë ˆì´ì•„ì›ƒ ì €ì¥ ì‹¤íŒ¨:', error);
                }
            }
        }

        // ì „ì—­ ê°ì²´ë¡œ ì—ë””í„° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        const editor = new SimplifiedRAGEditor();
    </script>
</body>
</html>